#!/bin/sh

walk_number() {
  awk 'BEGIN{count=0} {if ($0 >= 3600) {count++} print count}'
}


walks=$(mktemp)
cat gps_dataset.csv | tail -n+2 | awk -F';' '{print $1}' | ./time_difference | walk_number > "$walks"&
walks_proc="$!"
wait "$walks_proc"


distances=$(mktemp)
cat gps_dataset.csv | tail -n+2 | awk -F';' '{print $2 " " $3}' | paste "$walks" - | ./haversine.rb


#| time_difference #| tee $time_diff & #| head -n 4 & $base #tee $time_diff  & paste $time_diff | head -n 5 
#paste $base $time_input | head -n 10 > out
#paste $time_diff $base | head -n 10

#cat big.csv | tail -n+2  | awk 'BEGIN{FS=";"} {print $1}' | ./time_difference #| walks | haversine 
#cat big.csv | tail -n+2  | awk 'BEG./time_difference #| walks | haversine 
